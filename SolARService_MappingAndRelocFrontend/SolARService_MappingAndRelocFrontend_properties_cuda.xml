<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<xpcf-registry autoAlias="true">

<properties>
    <!-- server configuration -->
    <!--
    <configure component="GrpcServerManager">
        <property name="server_address" access="rw" type="string" value="0.0.0.0:8080"/>
        <property name="server_credentials" access="rw" type="uint" value="0"/>
        <property name="max_receive_message_size" access="rw" type="uint" value="7000000"/>
        <property name="max_send_message_size" access="rw" type="uint" value="20000"/>
    </configure>
    -->
    <!-- gRPC proxy configuration-->
    <configure component="IMapUpdatePipeline_grpcProxy">
        <property name="channelUrl" access="rw" type="string" value="0.0.0.0:60053"/>
        <property name="channelCredentials" access="rw" type="uint" value="0"/>
    </configure>
    <configure component="IMappingPipeline_grpcProxy" name="MappingProperties">
        <property name="channelUrl" access="rw" type="string" value="0.0.0.0:60051"/>
        <property name="channelCredentials" access="rw" type="uint" value="0"/>
    </configure>
    <configure component="IMappingPipeline_grpcProxy" name="StereoMappingProperties">
        <property name="channelUrl" access="rw" type="string" value="0.0.0.0:60054"/>
        <property name="channelCredentials" access="rw" type="uint" value="0"/>
    </configure>
    <configure component="IRelocalizationPipeline_grpcProxy" name="RelocalizationMapProperties">
        <property name="channelUrl" access="rw" type="string" value="0.0.0.0:60052"/>
        <property name="channelCredentials" access="rw" type="uint" value="0"/>
    </configure>
    <configure component="IRelocalizationPipeline_grpcProxy" name="RelocalizationMarkersProperties">
        <property name="channelUrl" access="rw" type="string" value="0.0.0.0:50050"/>
        <property name="channelCredentials" access="rw" type="uint" value="0"/>
    </configure>

    <configure component="SolARMappingAndRelocalizationFrontendPipeline">
        <property name="nbSecondsBetweenRequest" access="rw" type="uint" value="20"/>
        <property name="nbRelocRequest" access="rw" type="uint" value="3"/>
        <property name="thresholdTranslationRatio" access="rw" type="float" value="0.2" description="ratio multiplied with cumulative distance used as threshold to test if reloc pose is coherent with AR runtime pose"/>
        <property name="minCumulativeDistance" access="rw" type="float" value="0.05" description="minimum cumulative distance to test if reloc pose is coherent with AR runtime pose"/>
        <property name="maxDistanceRelocMatrix" access="rw" type="float" value="0.2" description="distance max used to check validity between consecutive matrix given by the Relocalization service"/>
        <property name="thresholdRelocConfidence" access="rw" type="float" value="0.6" description="threshold on reloc confidence score to check if a reloc pose is reliable to initialize transform from AR runtime to SolAR"/>
    </configure>
</properties>

</xpcf-registry>
